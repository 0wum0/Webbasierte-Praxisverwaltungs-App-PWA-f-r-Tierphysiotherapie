# üß† Cursor Auto-Integrity Check
# Tierphysio Manager - Automatische Code-Validierung vor jedem Commit

tasks:
  - name: "Integrity Auto-Check"
    trigger: "beforeCommit"
    action:
      run: |
        echo "üîç Pr√ºfe Integrit√§t der Anwendung √ºber ew.makeit.uno ..."
        STATUS=$(curl -s https://ew.makeit.uno/integrity.php | grep -E '‚ùå|‚ö†Ô∏è')
        if [ -n "$STATUS" ]; then
          echo "‚ùå Integrit√§tspr√ºfung hat Warnungen oder Fehler gefunden:"
          echo "$STATUS"
          echo "------------------------------------------------------------"
          echo "Bitte √ºberpr√ºfe die Meldungen auf https://ew.makeit.uno/integrity.php"
          echo "und behebe sie, bevor du committest."
          exit 1
        else
          echo "‚úÖ Integrit√§tspr√ºfung erfolgreich ‚Äì alles stabil!"
        fi
